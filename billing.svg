<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="330px" preserveAspectRatio="none" style="width:1110px;height:330px;" version="1.1" viewBox="0 0 1110 330"
    width="1110px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ckp292adfmal" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster 计费主流程--><polygon fill="#FFFFFF" filter="url(#f1ckp292adfmal)" points="14,16,90,16,97,38.4883,699,38.4883,699,318,14,318,14,16" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="14" x2="97" y1="38.4883" y2="38.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="70" x="18" y="31.5352">计费主流程</text><!--cluster 改价--><polygon fill="#FFFFFF" filter="url(#f1ckp292adfmal)" points="996,16,1030,16,1037,38.4883,1088,38.4883,1088,191.5,996,191.5,996,16" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="996" x2="1037" y1="38.4883" y2="38.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="1000" y="31.5352">改价</text><!--cluster 计费规则修改--><polygon fill="#FFFFFF" filter="url(#f1ckp292adfmal)" points="718,16,808,16,815,38.4883,977,38.4883,977,191.5,718,191.5,718,16" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="718" x2="815" y1="38.4883" y2="38.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="722" y="31.5352">计费规则修改</text><!--entity estimate--><rect fill="#FEFECE" filter="url(#f1ckp292adfmal)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="48" x="22" y="147.5"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="17" y="152.5"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="17" y="173.9883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="32" y="171.0352">预估</text><!--entity create--><rect fill="#FEFECE" filter="url(#f1ckp292adfmal)" height="52.9766" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="105" y="139"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="100" y="144"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="100" y="181.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="115" y="162.5352">创建账单</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="115" y="179.0234">(计价规则快照)</text><!--entity start--><rect fill="#FEFECE" filter="url(#f1ckp292adfmal)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="254" y="147.5"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="249" y="152.5"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="249" y="173.9883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="264" y="171.0352">账单开始计费</text><!--entity middle--><rect fill="#FEFECE" filter="url(#f1ckp292adfmal)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="393" y="147.5"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="388" y="152.5"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="388" y="173.9883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="403" y="171.0352">中间费用</text><!--entity end--><rect fill="#FEFECE" filter="url(#f1ckp292adfmal)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="504" y="147.5"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="499" y="152.5"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="499" y="173.9883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="514" y="171.0352">结束计费</text><!--entity checkOut--><rect fill="#FEFECE" filter="url(#f1ckp292adfmal)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="615" y="147.5"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="610" y="152.5"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="610" y="173.9883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="625" y="171.0352">结算费用</text><!--entity 预估--><rect fill="#FEFECE" filter="url(#f1ckp292adfmal)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="48" x="39" y="43"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="34" y="48"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="34" y="69.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="49" y="66.5352">预估</text><!--entity 叫单--><rect fill="#FEFECE" filter="url(#f1ckp292adfmal)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="48" x="138" y="43"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="133" y="48"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="133" y="69.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="148" y="66.5352">叫单</text><!--entity 订单开始计费--><rect fill="#FEFECE" filter="url(#f1ckp292adfmal)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="240" y="43"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="235" y="48"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="235" y="69.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="250" y="66.5352">订单开始计费</text><!--entity 行程中--><rect fill="#FEFECE" filter="url(#f1ckp292adfmal)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="62" x="379" y="43"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="374" y="48"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="374" y="69.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="389" y="66.5352">行程中</text><!--entity 订单结束计费--><rect fill="#FEFECE" filter="url(#f1ckp292adfmal)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="476" y="43"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="471" y="48"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="471" y="69.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="486" y="66.5352">订单结束计费</text><!--entity 订单结算--><rect fill="#FEFECE" filter="url(#f1ckp292adfmal)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="615" y="43"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="610" y="48"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="610" y="69.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="625" y="66.5352">订单结算</text><!--entity 初始化状态--><ellipse cx="162" cy="281" fill="#FEFECE" filter="url(#f1ckp292adfmal)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="127" y="311.5352">初始化状态</text><!--entity 开始状态--><ellipse cx="368" cy="281" fill="#FEFECE" filter="url(#f1ckp292adfmal)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="340" y="311.5352">开始状态</text><!--entity 结束状态--><ellipse cx="542" cy="281" fill="#FEFECE" filter="url(#f1ckp292adfmal)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="514" y="311.5352">结束状态</text><!--entity 结算状态--><ellipse cx="653" cy="281" fill="#FEFECE" filter="url(#f1ckp292adfmal)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="625" y="311.5352">结算状态</text><!--entity 订单改价--><rect fill="#FEFECE" filter="url(#f1ckp292adfmal)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="1004" y="43"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="999" y="48"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="999" y="69.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="1014" y="66.5352">订单改价</text><!--entity 账单改价--><rect fill="#FEFECE" filter="url(#f1ckp292adfmal)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="1004" y="147.5"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="999" y="152.5"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="999" y="173.9883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="1014" y="171.0352">账单改价</text><!--entity 添加计费规则--><rect fill="#FEFECE" filter="url(#f1ckp292adfmal)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="726" y="43"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="721" y="48"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="721" y="69.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="736" y="66.5352">添加计费规则</text><!--entity 更新计费规则--><rect fill="#FEFECE" filter="url(#f1ckp292adfmal)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="865" y="43"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="860" y="48"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="860" y="69.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="875" y="66.5352">更新计费规则</text><!--entity 添加计费单元--><rect fill="#FEFECE" filter="url(#f1ckp292adfmal)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="726" y="147.5"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="721" y="152.5"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="721" y="173.9883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="736" y="171.0352">添加计费单元</text><!--entity 更新计费单元--><rect fill="#FEFECE" filter="url(#f1ckp292adfmal)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="865" y="147.5"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="860" y="152.5"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="860" y="173.9883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="875" y="171.0352">更新计费单元</text><!--link 预估 to 叫单--><path d="M87.3633,61 C102.4684,61 117.5736,61 132.6788,61 " fill="none" id="预估-叫单" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="137.8014,61,128.8014,57,132.8014,61,128.8014,65,137.8014,61" style="stroke: #A80036; stroke-width: 1.0;"/><!--link 叫单 to 订单开始计费--><path d="M186.1211,61 C202.3631,61 218.6051,61 234.8471,61 " fill="none" id="叫单-订单开始计费" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="239.8877,61,230.8877,57,234.8877,61,230.8877,65,239.8877,61" style="stroke: #A80036; stroke-width: 1.0;"/><!--link 订单开始计费 to 行程中--><path d="M344.0859,61 C353.9525,61 363.8191,61 373.6857,61 " fill="none" id="订单开始计费-行程中" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="378.8453,61,369.8453,57,373.8453,61,369.8453,65,378.8453,61" style="stroke: #A80036; stroke-width: 1.0;"/><!--link 行程中 to 订单结束计费--><path d="M441.3438,61 C451.1444,61 460.9451,61 470.7457,61 " fill="none" id="行程中-订单结束计费" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="475.8708,61,466.8708,57,470.8708,61,466.8708,65,475.8708,61" style="stroke: #A80036; stroke-width: 1.0;"/><!--link 订单结束计费 to 订单结算--><path d="M580.2461,61 C590.0878,61 599.9296,61 609.7713,61 " fill="none" id="订单结束计费-订单结算" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="614.9179,61,605.9179,57,609.9179,61,605.9179,65,614.9179,61" style="stroke: #A80036; stroke-width: 1.0;"/><!--link 预估 to estimate--><path d="M60.0388,79.2025 C56.9376,98.2658 52.0941,128.0391 48.9843,147.1555 " fill="none" id="预估-estimate" style="stroke: #A80036; stroke-width: 1.0;"/><!--link 叫单 to create--><path d="M162,79.2025 C162,95.6929 162,120.1973 162,138.8852 " fill="none" id="叫单-create" style="stroke: #A80036; stroke-width: 1.0;"/><!--link 订单开始计费 to start--><path d="M294.4386,79.2025 C296.9926,98.2658 300.9813,128.0391 303.5424,147.1555 " fill="none" id="订单开始计费-start" style="stroke: #A80036; stroke-width: 1.0;"/><!--link 行程中 to middle--><path d="M413.6579,79.2025 C417.4888,98.2658 423.472,128.0391 427.3135,147.1555 " fill="none" id="行程中-middle" style="stroke: #A80036; stroke-width: 1.0;"/><!--link 订单结束计费 to end--><path d="M530.4386,79.2025 C532.9926,98.2658 536.9813,128.0391 539.5424,147.1555 " fill="none" id="订单结束计费-end" style="stroke: #A80036; stroke-width: 1.0;"/><!--link 订单结算 to checkOut--><path d="M653,79.2025 C653,98.2658 653,128.0391 653,147.1555 " fill="none" id="订单结算-checkOut" style="stroke: #A80036; stroke-width: 1.0;"/><!--link create to 初始化状态--><path d="M162,192.2883 C162,217.8782 162,254.9836 162,271.9369 " fill="none" id="create-初始化状态" style="stroke: #A80036; stroke-width: 1.0;"/><!--link start to 开始状态--><path d="M315.6875,183.5469 C329.1062,208.5446 352.851,252.7789 363.0831,271.8404 " fill="none" id="start-开始状态" style="stroke: #A80036; stroke-width: 1.0;"/><!--link middle to 开始状态--><path d="M421.1563,183.5469 C407.5211,208.5446 383.3933,252.7789 372.9962,271.8404 " fill="none" id="middle-开始状态" style="stroke: #A80036; stroke-width: 1.0;"/><!--link end to 结束状态--><path d="M542,183.5469 C542,208.5446 542,252.7789 542,271.8404 " fill="none" id="end-结束状态" style="stroke: #A80036; stroke-width: 1.0;"/><!--link checkOut to 结算状态--><path d="M653,183.5469 C653,208.5446 653,252.7789 653,271.8404 " fill="none" id="checkOut-结算状态" style="stroke: #A80036; stroke-width: 1.0;"/><!--link 订单改价 to 账单改价--><path d="M1042,79.2025 C1042,98.2658 1042,128.0391 1042,147.1555 " fill="none" id="订单改价-账单改价" style="stroke: #A80036; stroke-width: 1.0;"/><!--link 添加计费规则 to 更新计费规则--><!--link 添加计费规则 to 添加计费单元--><!--link 添加计费单元 to 更新计费单元--><!--
@startuml

package "计费主流程"{
[预估] as estimate
[创建账单\n(计价规则快照)] as create
[账单开始计费] as start
[中间费用] as middle
[结束计费] as end
[结算费用] as checkOut

[预估]-r->[叫单]
[叫单]-r->[订单开始计费]
[订单开始计费]-r->[行程中]
[行程中]-r->[订单结束计费]
[订单结束计费]-r->[订单结算]
[预估]-d-estimate
[叫单]-d-create
[订单开始计费]-d-start
[行程中]-d-middle
[订单结束计费]-d-end
[订单结算]-d-checkOut

create-d-初始化状态
start-d-开始状态
middle-d-开始状态
end-d-结束状态
checkOut-d-结算状态
}

package "改价" {
[订单改价]-d-[账单改价]
}

package "计费规则修改" {
[添加计费规则]
[更新计费规则]
[添加计费单元]
[更新计费单元]
}

@enduml

PlantUML version 1.2017.16(Sun Sep 03 18:53:37 CST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_121-b13
Operating System: Mac OS X
OS Version: 10.13.1
Default Encoding: US-ASCII
Language: zh
Country: CN
--></g></svg>